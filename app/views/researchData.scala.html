@* Copyright 2016 Jan Schnasse, hbz. Licensed under the GNU Affero General Public License *@ 

@(myForm:Form[services.ZettelModel],dataFormat:String,documentId:String,topicId:String)
@import tags._ 
@import services._

@zettel("Forschungsdaten",myForm,dataFormat,documentId,topicId) {

	@if(myForm.hasGlobalErrors) {
		<p class="error">@myForm.globalError.message</p>
	} 
	@helper.form(action = routes.ZettelController.postForm(ResearchData.id,dataFormat,documentId,topicId)){
		<a href="@models.ResearchData.getHelpTextUrl()" id="helpTextUrl" style="float:right">Hilfe</a>
		@accordion(""){
			@accordionPanel("Titel","title-section"){
				@inputField(myForm,"title","Titel*","",1)
			}
			@accordionPanel("Urheberschaft","creator-section"){
				@multifield(myForm,"creator","Autor*","gnd-person-search",2)
			}
			@accordionPanel("Dateiupload","upload-section"){
				@singleSelect(myForm,"medium","Medium*","select-medium",ResearchDataHelper.getMediumMap(),3)
				<br/>
				@singleSelect(myForm,"yearOfCopyright","CopyrightJahr*","datepicker-year",ResearchDataHelper.getCopyrightYear(),4)
				<br />
				@singleSelect(myForm,"license","Lizenz*","select-license",ResearchDataHelper.getLicenseMap(),5)
				<br />
				@inputField(myForm,"embargo","Embargo","datepicker",6)
			}
			@accordionPanel("Erschließung","cataloging-section"){
				@textArea(myForm,"abstractText","Abstract*","",7)
				<br />
				@singleSelect(myForm,"language","Sprache*","select-language",ResearchDataHelper.getLanguageMap(),8)
				<br /> 
				@singleSelect(myForm,"professionalGroup","Fachgruppe*","select-pg",ResearchDataHelper.getProfessionalGroupMap(),9)
				<br />
				@multiselect(myForm,"ddc","DDC*","select-ddc",ResearchDataHelper.getDeweyMap(),10)
				<br />
				@multifield(myForm,"subject","Schlagworte","gnd-subject-search",11)
			}
			@accordionPanel("Beteiligte","contributor-section"){
				@multifield(myForm,"contributor","Beteiligte","gnd-person-search",12)
				<br /> 
				@multifield(myForm,"funding","Förderer","",13) 
				<br />
				@multifield(myForm,"projectId","Projekt-ID","",14) 
			}
			@accordionPanel("Erfassung","recording-section"){
				@singleSelect(myForm,"dataOrigin","Erfassungsart*","select-dataOrigin",ResearchDataHelper.getDataOriginMap(),15)
				<br />
				@textArea(myForm,"recordingPeriod","Erfassungszeitraum*","",16) 
				<br />
				@multifield(myForm,"recordingLocation","Erfassungsort*","",17) 
				<br />
				@multifield(myForm,"recordingLocationCoord","Geokoordinaten*","",18) 
			}
			@accordionPanel("Externe Referenzen","link-section"){
				@inputField(myForm,"nextVersion","Nachfolger Version","",19)  
				<br />
				@inputField(myForm,"previousVersion","Vorgänger Version","",20) 
				<br />
				@multifield(myForm,"doi","Vorhandene DOIs","",21) 
			}
		}
		<div class="form-group row">
			<div class="col-sm-offset-8 col-sm-4">
				<button id="cancel" class="btn cancel">Cancel</button>
				<input type="submit" value="Save" class="btn btn-success" />
			</div>
		</div>
	} 
}
